<html>
	<head>
		<title>Gacha Simulator</title>
		<style type="text/css">
		h1{
			color:white;
		}
			td{
				width:120px;
				height:50px;
				background:white;
				text-align:center;
			}
			hr{
				width:50%;
			}
			th{
				color:white;
			}
			img{
				height:200px;
			}
			table{
				border:2px gray solid;
			}
			button{
				width:120px;
				height:50px;
				color:darkblue;
			}
			
			#result{
				color:white;
			}
			
		
			
		</style>
		<script type="text/javascript">
			var num3=0;
			var num4=0;
			var num5=0;
			var numRolls=0;
			var price=0;
			
			function pull(times)
			{
				switch(times)
				{
					case 1:
						pull_once();
						calcPrice();
						displayResult();
						break;
					case 2:
						clear();
						pull_10();
						calcPrice();
						displayResult();
						clear();
						break;
					default:
						clear();
						pull_5star();
						calcPrice();
						displayResult();
						clear();
				}
			}
			
			function test()
			{
				alert("hi");
			}
			
			function pull_once()
			{
				rng=Math.random();
				if(rng<=.70)
				{
					num3++;
					numRolls++;
				}
				else if(rng>.70 && rng<0.97)
				{
					num4++;
					numRolls++;
				}
				else
				{
					num5++;
					numRolls++;
				}
			}
			
			function pull_10()
			{
				num4++;
				numRolls++;
				for(var i=0;i<10;i++)
				{
					pull_once();
				}
			}
			
			function pull_5star()
			{
				while(num5==0)
				{
					pull_once();
				}
			}
			function displayResult()
			{
				document.getElementById("res3").innerHTML=num3;
				document.getElementById("res4").innerHTML=num4;
				document.getElementById("res5").innerHTML=num5;
				document.getElementById("numPulls").innerHTML=numRolls;
				document.getElementById("priceTotal").innerHTML="You rolled "+numRolls+" times, spending $"+price+"!";
			}
			function clear()
			{
				num3=0;
				num4=0;
				num5=0;
				numRolls=0;
				price=0;
			}
			function clearResults()
			{
				clear();
				displayResult();
			}
			function calcPrice()
			{
				price=numRolls*4;
			}
			
		</script>
	</head>
	
	<body bgcolor="blue" id="bg">
		
			<center><h1>Gacha Simulator</h1></center>
				<div style="width:100%;overflow:auto;">
					<div style="float:left; width: 50%">
						<center>
						<table>
							<tr>
								<th>Rarity</th>
								<th>Rates</th>
							</tr>
							<tr>
								<td>3*</td><td>70%</td>
							</tr>
							<tr>
								<td>4*</td><td>27%</td>
							</tr>
							<tr>
								<td>5*</td><td>3%</td>
							</tr>
						</table>
						<br />
						
						<table>
							<tr>
								<td><button onclick="pull(1)">Summon Once</button></td>
								<td><button onclick="pull(2)">Summon 10+1</button></td>
								<td><button onclick="pull(3)">Summon Until 5*</button></td>
							</tr>
						</table>
						
						<br />
						<table>
							<tr><th colspan="2">Results</th></tr>
							<tr><td>3*</td><td id="res3">0</td></tr>
							<tr><td>4*</td><td id="res4">0</td></tr>
							<tr><td>5*</td><td id="res5">0</td></tr>
							<tr><td>Number of Pulls</td><td id="numPulls">0</td></tr>
						</table>
						<br />
						<button onclick="clearResults()">Clear Results</button>
						</center>
				    </div>
					<div style="float:right;">
					
					<table width="600">
						<tr>
							<td>
								<p align="left">
									This is a gacha simulator with the rates on the left. In most gacha games, there are 3 rarity options in the gacha, with 5* being the rarest.<br /><br />
									The "Summon Once" option will save your results until another option or "Clear Results" is pressed.<br /><br />
									The "Summon 10+1" option will gurantee a 4* each roll, this is a popular option in many Gacha games.<br /><br />
									The "Summon Until 5*" option will continue to summon until a 5* is pulled.<br /><br />
								</p>
							</td>
						</tr>
						<tr>
							<td>
								<p>
									Suppose that it costs $4.00 per summon.
								</p>
								<p id="priceTotal">
									You rolled 0 times, spending $0!
								</p>
							</td>
						</tr>
					</table>
					
					</div>
				</div>			
		
		<br />
		
	</body>
</html>